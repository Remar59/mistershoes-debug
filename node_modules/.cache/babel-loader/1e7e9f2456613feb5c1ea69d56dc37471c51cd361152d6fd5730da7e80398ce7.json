{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"normalizePathTrailingSlash\", {\n  enumerable: true,\n  get: function () {\n    return normalizePathTrailingSlash;\n  }\n});\nconst _removetrailingslash = require(\"../shared/lib/router/utils/remove-trailing-slash\");\nconst _parsepath = require(\"../shared/lib/router/utils/parse-path\");\nconst normalizePathTrailingSlash = path => {\n  if (!path.startsWith(\"/\") || process.env.__NEXT_MANUAL_TRAILING_SLASH) {\n    return path;\n  }\n  const {\n    pathname,\n    query,\n    hash\n  } = (0, _parsepath.parsePath)(path);\n  if (process.env.__NEXT_TRAILING_SLASH) {\n    if (/\\.[^/]+\\/?$/.test(pathname)) {\n      return \"\" + (0, _removetrailingslash.removeTrailingSlash)(pathname) + query + hash;\n    } else if (pathname.endsWith(\"/\")) {\n      return \"\" + pathname + query + hash;\n    } else {\n      return pathname + \"/\" + query + hash;\n    }\n  }\n  return \"\" + (0, _removetrailingslash.removeTrailingSlash)(pathname) + query + hash;\n};\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', {\n    value: true\n  });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}","map":{"version":3,"mappings":";;;;;+BAOaA;;;WAAAA;;;qCAPuB;2BACV;AAMnB,MAAMA,6BAA8BC;EACzC,IAAI,CAACA,KAAKC,UAAU,CAAC,QAAQC,QAAQC,GAAG,CAACC,4BAA4B,EAAE;IACrE,OAAOJ;EACT;EAEA,MAAM;IAAEK,QAAQ;IAAEC,KAAK;IAAEC;EAAI,CAAE,GAAGC,wBAAS,EAACR;EAC5C,IAAIE,QAAQC,GAAG,CAACM,qBAAqB,EAAE;IACrC,IAAI,cAAcC,IAAI,CAACL,WAAW;MAChC,OAAO,EAAC,GAAEM,4CAAmB,EAACN,YAAYC,QAAQC;IACpD,OAAO,IAAIF,SAASO,QAAQ,CAAC,MAAM;MACjC,OAAO,EAAC,GAAEP,WAAWC,QAAQC;IAC/B,OAAO;MACL,OAAOF,QAAGA,GAAS,MAAGC,QAAQC;IAChC;EACF;EAEA,OAAO,EAAC,GAAEI,4CAAmB,EAACN,YAAYC,QAAQC;AACpD","names":["normalizePathTrailingSlash","path","startsWith","process","env","__NEXT_MANUAL_TRAILING_SLASH","pathname","query","hash","parsePath","__NEXT_TRAILING_SLASH","test","removeTrailingSlash","endsWith"],"sources":["../../src/client/normalize-trailing-slash.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}